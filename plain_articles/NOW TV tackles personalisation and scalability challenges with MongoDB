
Streaming services and TV boxes for on-demand, online delivered content have hugely grown in popularity over the past 24 months. People are either complementing their existing TV subscription with an online subscription, or are increasingly seeing the cost benefit of just picking an on-demand service that suits their tastes and ditching expensive TV services.
NOW TV is one of the offerings that has grown in popularity since its launch, thanks to being owned by Sky and and having lots of great content to offer to users. At a starting price of just £6.99 a month, it’s an attractive proposition.
However, with a surge in users since opening to the public in 2012, NOW TV is also very aware of the scaling challenges it faces. This will become even more pertinent as the service continues to better its personalisation capabilities.
To help with this, NOW TV’s technical team have been using NoSQL database provider MongoDB.
MongoDB is a document-based NoSQL database that is becoming increasingly popular for companies looking to operate modern internet applications at scale. As we’ve noted in the past, MongoDB is suited to applications that use data that doesn’t fix a rigid schema, but still requires complex operations and real-time delivery.
As you can imagine, this is exactly the sort of use-case set out by the likes of an on-demand, personalised content delivery service. NOW TV solution architect Tom Maule, gave us a run-down of how he is using MongoDB to support the product’s growth. He said:
NOW TV was built from the ground up using MongoDB. It was selected in the early days of the project (early 2012) due to it lending nicely to fast prototyping of functionality, and the flexible schema meant we could continually iterate on NOW TV. This would have been very difficult to do with a relational database.
Compared to other NoSQL vendors at the time, MongoDB was the easiest and fastest to get working with.
The benefits of NoSQL
 Maule said that since the early days of the project, NOW TV has begun to take advantage of the enterprise tooling around the database. For example, using MongoDB Cloud manager to help the company monitor, back-up and scale the deployment.
But one of the core benefits of the system is that Maule’s team is able to easily allocate resources to features that are more intensive, but has also meant that the team can regularly improve the on-demand service. He said:
MongoDB has helped us to stay agile, allowing us to continually and iteratively improve our service for our customers. MongoDB’s distributed and clustered architecture has allowed NOW TV to focus on the high-traffic areas of the service, independently scaling different databases depending on the use case.
For example, our metadata catalogue is highly cacheable, can be read from replica set secondaries and sees generally low traffic (due to excellent offload at the Content Delivery Network).
Meanwhile, our personalisation features are high-load and can be complex and heavy queries, so these databases have more hardware to their name and a greater level of distribution. MongoDB’s distributed database allows us to scale across multiple geographic regions for quality of service and always-on availability.
Future plans
I asked Maule what advice he would give to other companies that were considering MongoDB for a similar use case, or in other words what he would do differently second time around. He said that sub-optimal indexing can really add a bottleneck to a Mongo cluster, so that companies should get their indexing right the first time, or they will “learn the hard way”.
But, he added:
MongoDB’s flexible data model makes schema evolution pretty simple – it’s easy to add, modify or drop indexes. The latest Cloud Manager includes visual query profiling so we can monitor query latency, and receive alerts when the addition of an index could help query performance. Cloud Manager then lets us roll out new index builds in a fully automated manner, and without impacting user experience.
However, one of the main challenges for NOW TV is the growth it’s experiencing, which coupled with increased personalisation capabilities, is going to add pressure to the system. Maule said:
One of the fundamental challenges we’ve confronted is growth. Our customer base tripled between 2013 and 2014, and then tripled again between 2014 and 2015. We expect similar growth in the years to come. For mission critical applications like this, it is vital to select technology that can scale with you.
As always, NOW TV has ambitious plans, unfortunately most are too commercially sensitive to share, but suffice to say personalisation will become a larger and larger part of our platform, bringing a whole new set of scalability challenges for our overall architecture.
We are also moving more towards microservices architectures and using the cloud for temporary bursts in demand. I see MongoDB’s flexibility and ability to scale giving us the robust platform we need to continue to iterate and bring an ever better experience to our viewers.
Image credit - Images via SkyRead more on: Analytics planning and data analysisUse cases 